# üç™ **JavaScript Cookies ‚Äì Complete Guide**

---

## **1. What is a Cookie?**

* A **cookie** is a small piece of data stored by the browser for a particular website.
* Purpose: **Session management, storing preferences, tracking users**.
* Stored as **key‚Äìvalue pairs**.
* Sent automatically with **every HTTP request** to the server.

**Example:**

```
username=Mahendra; theme=dark; sessionToken=abc123
```

---

## **2. Cookie Characteristics**

| Attribute    | Description                                                                      |
| ------------ | -------------------------------------------------------------------------------- |
| `name=value` | Key-value pair of the cookie                                                     |
| `expires`    | Expiry date (GMT string). If not set ‚Üí session cookie (deleted on browser close) |
| `max-age`    | Lifetime in seconds (alternative to `expires`)                                   |
| `path`       | URL path the cookie is valid for (default: current path)                         |
| `domain`     | Domain the cookie belongs to (default: current domain)                           |
| `secure`     | Sent only over HTTPS                                                             |
| `HttpOnly`   | Not accessible via JS (server only)                                              |
| `SameSite`   | Controls cross-site sending (`Strict`, `Lax`, `None`)                            |

---

## **3. Creating / Setting Cookies**

### **Basic Example**

```js
document.cookie = "username=Mahendra; path=/";
```

### **With Expiry**

```js
let d = new Date();
d.setTime(d.getTime() + (7*24*60*60*1000)); // 7 days
document.cookie = "username=Mahendra; expires=" + d.toUTCString() + "; path=/";
```

### **With Special Characters**

```js
document.cookie = "user=" + encodeURIComponent("Mahendra @Patil") + "; path=/";
```

---

## **4. Reading Cookies**

* `document.cookie` returns **all cookies as a string**:

```js
console.log(document.cookie);
// Output: "username=Mahendra; user=Mahendra%20@Patil"
```

* Split and decode:

```js
const cookies = document.cookie.split("; ");
for (const cookie of cookies) {
  const [key, value] = cookie.split("=");
  console.log(key, decodeURIComponent(value));
}
```

---

## **5. Updating Cookies**

* Just **overwrite the cookie with the same name**:

```js
document.cookie = "username=Patil; path=/";
```

---

## **6. Deleting Cookies**

* Set `expires` to a **past date**:

```js
document.cookie = "username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";
```

---

## **7. Helper Functions (Interview Ready)**

```js
// Set Cookie
function setCookie(name, value, days) {
  let d = new Date();
  d.setTime(d.getTime() + (days*24*60*60*1000));
  let expires = "expires=" + d.toUTCString();
  document.cookie = name + "=" + encodeURIComponent(value) + ";" + expires + ";path=/";
}

// Get Cookie
function getCookie(name) {
  const cname = name + "=";
  const decodedCookie = decodeURIComponent(document.cookie);
  const ca = decodedCookie.split(';');
  for (let c of ca) {
    while (c.charAt(0) === ' ') c = c.substring(1);
    if (c.indexOf(cname) === 0) return c.substring(cname.length, c.length);
  }
  return "";
}

// Delete Cookie
function deleteCookie(name) {
  document.cookie = name + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";
}
```

---

## **8. Differences: Cookies vs LocalStorage vs SessionStorage**

| Feature           | Cookie                     | LocalStorage        | SessionStorage    |
| ----------------- | -------------------------- | ------------------- | ----------------- |
| Size Limit        | \~4KB per cookie           | \~5‚Äì10 MB           | \~5‚Äì10 MB         |
| Lifetime          | Until expires / deleted    | Permanent (browser) | Until tab closes  |
| Sent to Server    | ‚úÖ Automatically            | ‚ùå Not sent          | ‚ùå Not sent        |
| Accessible via JS | ‚úÖ (unless HttpOnly)        | ‚úÖ                   | ‚úÖ                 |
| Use Case          | Session, preferences, auth | Large data, caching | Tab-specific data |

---

## **9. Common Interview Points**

1. Cookies are **sent with every HTTP request**, so **don‚Äôt store large data**.
2. **HttpOnly** ‚Üí secure server-only cookies.
3. **Secure** ‚Üí only sent over HTTPS.
4. **SameSite** ‚Üí prevents CSRF attacks.
5. Always **encode/decode values** (`encodeURIComponent` / `decodeURIComponent`) if they contain special characters.
6. Session cookies = no expiry ‚Üí deleted when browser closes.

---

## **10. Quick Example Flow**

```js
// Set cookie
setCookie("username", "Mahendra @Patil", 7);

// Get cookie
console.log(getCookie("username")); // Mahendra @Patil

// Delete cookie
deleteCookie("username");
```

---
